# Linux基础

## 1 文件和目录常用命令

- 查看文件内容
  - `cat`
  - `more`
  - `grep`
- 其他
  - `echo`
  - 重定向 `>` 和 `>>`
  - 管道 `|`

### 1.1 查看目录内容

#### 1.1.1 ls

ls常用参数：

| 参数 | 含义                                         |
| :--: | -------------------------------------------- |
|  -a  | 显示指定目录下所有子目录与文件，包括隐藏文件 |
|  -l  | 以列表方式显示文件的详细信息                 |
|  -h  | 配合 -l 以人性化的方式显示文件大小           |

注：多个选项可以合并，并无先后之分，即ls -lh

| 通配符    | 含义                                                         |
| :-------- | ------------------------------------------------------------ |
| *         | 文件代表文件名中所有字符                                     |
| ls te*    | 查找以te开头的文件                                           |
| ls *html  | 查找结尾为html的文件                                         |
| ？        | 代表文件名中任意一个字符                                     |
| ls ?.c    | 只找第一个字符任意，后缀为.c的文件                           |
| ls a.?    | 只找只有3个字符，前2字符为a.，最后一个字符任意的文件         |
| []        | [”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围。 |
| [abc]     | 匹配a、b、c中的任意一个                                      |
| [a-f]     | 匹配从a到f范围内的的任意一个字符                             |
| ls [a-f]* | 找到从a到f范围内的的任意一个字符开头的文件                   |
| ls a-f    | 查找文件名为a-f的文件,当“-”处于方括号之外失去通配符的作用    |
| \         | 如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。 |
| ls \*a    | 查找文件名为*a的文件                                         |

### 1.2 切换目录

#### 1.2.1 cd

| 命令 |         含义         |
| :--: | :------------------: |
| cd - | 可进入上次所在的目录 |

注意：

- 如果路径是从根路径开始的，则路径的前面需要加上 “ / ”，如 “ /mnt ”，通常进入某个目录里的文件夹，前面不用加 “ / ”。

#### 1.2.2 相对路径和绝对路径

- **相对路径** 在输入路径时，最前面不是 **/** 或者 **~**，表示相对 **当前目录** 所在的目录位置
- **绝对路径** 在输入路径时，最前面是 **/** 或者 **~**，表示从 **根目录/家目录** 开始的具体目录位置

### 1.3 创建和删除操作

#### 1.3.1 mkdir

递归创建删除

```bash
mkdir a/b/c -p
```

#### 1.3.2 rm

| 参数 | 含义                                             |
| :--- | ------------------------------------------------ |
| -i   | 以进行交互式方式执行（逐个缺人要删除的文件）     |
| -f   | 强制删除，忽略不存在的文件，无需提示             |
| -r   | 递归地删除目录下的内容，删除文件夹时必须加此参数 |

### 1.4 拷贝和移动文件

#### 1.4.1 cp

| 选项 | 含义                                                         |
| :--- | ------------------------------------------------------------ |
| -a   | 该选项通常在复制目录时使用，它保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。 |
| -f   | 已经存在的目标文件而不提示                                   |
| -i   | 交互式复制，在覆盖目标文件之前将给出提示要求用户确认         |
| -r   | 若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。 |
| -v   | 显示拷贝进度                                                 |

#### 1.4.2 mv

| 选项 | 含义                                                         |
| :--- | ------------------------------------------------------------ |
| -f   | 禁止交互式操作，如有覆盖也不会给出提示                       |
| -i   | 确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件 |
| -v   | 显示移动进度                                                 |

### 1.5 查看文件内容

#### 1.5.1 cat

合并文件

```bash
cat a.txt b.txt > c.txt
```

#### 1.5.2 more

分屏显示：

查看内容时，在信息过长无法在一屏上显示时，会出现快速滚屏，使得用户无法看清文件的内容，此时可以使用more命令，每次只显示一页，按下空格键可以显示下一页，按下q键退出显示，按下h键可以获取帮助。

#### 1.5.3 grep

| 选项 | 含义                                     |
| :--- | ---------------------------------------- |
| -v   | 显示不包含匹配文本的所有行（相当于求反） |
| -n   | 显示匹配行及行号                         |
| -i   | 忽略大小写                               |

grep常用正则表达式：

| 参数         | 含义                                                         |
| :----------- | ------------------------------------------------------------ |
| ^a           | 行首,搜寻以 m 开头的行；grep -n '^a' 1.txt                   |
| ke$          | 行尾,搜寻以 ke 结束的行；grep -n 'ke$' 1.txt                 |
| [Ss]igna[Ll] | 匹配 [] 里中一系列字符中的一个；搜寻匹配单词signal、signaL、Signal、SignaL的行；grep -n '[Ss]igna[Ll]' 1.txt |
| .            | (点)匹配一个非换行符的字符；匹配 e 和 e 之间有任意一个字符，可以匹配 eee，eae，eve，但是不匹配 ee，eaae；grep -n 'e.e' 1.txt |

#### 1.5.4 find

find搜索特定条件下符合条件的文件，也可以用来搜索特定用户属主的文件。

- 如果省略路径，表示在当前文件夹下查找

常用用法：

| 命令                        | 含义                                   |
| :-------------------------- | -------------------------------------- |
| find ./ -name test.sh       | 查找当前目录下所有名为test.sh的文件    |
| find ./ -name '*.sh'        | 查找当前目录下所有后缀为.sh的文件      |
| find ./ -name "[A-Z]*"      | 查找当前目录下所有以大写字母开头的文件 |
| find /tmp -size 2M          | 查找在/tmp 目录下等于2M的文件          |
| find /tmp -size +2M         | 查找在/tmp 目录下大于2M的文件          |
| find /tmp -size -2M         | 查找在/tmp 目录下小于2M的文件          |
| find ./ -size +4k -size -5M | 查找当前目录下大于4k，小于5M的文件     |
| find ./ -perm 0777          | 查找当前目录下权限为 777 的文件或目录  |

### 1.6 Vi编辑器



### 1.6 其他

#### 1.6.1 重定向：`>` 和 `>>`

Linux允许将命令执行结果重定向到一个文件，本应显示在终端上的内容保存到指定文件中。

如：ls > test.txt ( test.txt 如果不存在，则创建，存在则覆盖其内容 )

注意： `>输出重定向会覆盖原来的内容，>>输出重定向则会追加到文件的尾部。`

#### 1.6.2 管道：|

管道：一个命令的输出可以通过管道做为另一个命令的输入。

管道我们可以理解现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里“ | ”的左右分为两端，左端塞东西(写)，右端取东西(读)。

#### 1.6.3 链接：ln

类似于Windows下的快捷方式。

- 软链接：不占用磁盘空间，源文件删除则软链接失效。
  - 删除软连接，不会影响源文件
  - **源文件要使用绝对路径**，不能使用相对路径，这样可以方便移动链接文件后，仍然能够正常使用

- 硬链接：只能链接普通文件，不能链接目录。
  - `没有-s`选项代表建立一个硬链接文件，两个文件占用相同大小的硬盘空间，即使删除了源文件，链接文件还是存在

使用格式：

```
ln 源文件 链接文件
ln -s 源文件 链接文件
```

![001_文件软硬链接示意图](https://tva1.sinaimg.cn/large/006tNbRwly1g9p1q5794pj30vl0agwf4.jpg)

> *在 Linux 中，***文件名** *和* **文件的数据** *是分开存储的*

#### 1.6.4 tar、gzip、bzip2、zip\unzip

- **tar：归档处理,只负责打包，不负责压缩**

tar命令很特殊，其参数前面可以使用“-”，也可以不使用。

常用参数：

| 参数 | 含义                                                      |
| :--- | --------------------------------------------------------- |
| -c   | 生成档案文件，创建打包文件                                |
| -v   | 列出归档解档的详细过程，显示进度                          |
| -f   | 指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后 |
| -t   | 列出档案中包含的文件                                      |
| -x   | 解开档案文件                                              |

注意：除了f需要放在参数的最后，其它参数的顺序任意。

```bash
# 打包文件
tar -cvf 打包文件.tar 被打包的文件／路径...

# 解包文件
tar -xvf 打包文件.tar
```

- **gzip**

常用选项：

| 选项 | 含义           |
| :--- | -------------- |
| -d   | 解压           |
| -r   | 压缩所有子目录 |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9g1qtgdrhj31ke0g8gp1.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9g1r1sfh2j318k0aymyu.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9g1rkkfvpj31cc070dh2.jpg)

```bash
# 压缩文件
tar -zcvf 打包文件.tar.gz 被压缩的文件／路径...

# 解压缩文件
tar -zxvf 打包文件.tar.gz

# 解压缩到指定路径
tar -zxvf 打包文件.tar.gz -C 目标路径
```

- **bzip2**

在tar命令中增加一个选项(-j)可以调用bzip2实现了一个压缩的功能，实行一个先打包后压缩的过程。

压缩用法：tar -jcvf 压缩包包名 文件...(tar jcvf bk.tar.bz2 *.c)

解压用法：tar -jxvf 压缩包包名 (tar jxvf bk.tar.bz2)

- **zip\unzip**

通过zip压缩文件的目标文件不需要指定扩展名，默认扩展名为zip。

压缩文件：zip [-r] 目标文件(没有扩展名) 源文件

解压文件：unzip -d 解压后目录文件 压缩文件

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9g1uzb0nfj31i60pegsd.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9g1v5bbebj31kw0qywli.jpg)

#### 1.6.5 which

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9g1vlrqp2j31ha06mtay.jpg)

## 2 远程管理

### 2.1 关机/重启

| 命令              | 含义                                       |
| :---------------- | ------------------------------------------ |
| **reboot**        | 重新启动操作系统                           |
| shutdown –r now   | 重新启动操作系统，shutdown会给别的用户提示 |
| shutdown -h now   | 立刻关机，其中now相当于时间为0的状态       |
| shutdown -h 20:25 | 系统在今天的20:25 会关机                   |
| shutdown -h +10   | 系统再过十分钟后自动关机                   |
| shutdown -c       | 取消关机操作                               |
| init 0            | 关机                                       |
| init 6            | 重启                                       |

### 2.2 远程登录和复制文件

| 序号 | 命令                                              | 对应英文     | 作用           |
| :--- | :------------------------------------------------ | :----------- | :------------- |
| 01   | ssh 用户名@ip                                     | secure shell | 关机／重新启动 |
| 02   | scp 用户名@ip:文件名或路径 用户名@ip:文件名或路径 | secure copy  | 远程复制文件   |

#### 2.2.1 ssh

- **SSH 客户端**是一种使用 `Secure Shell（SSH）` 协议连接到远程计算机的软件程序
- SSH是目前较可靠,专为**远程登录会话和其他网络服务**提供安全性的协议
  - 利用 `SSH 协议` 可以有效**防止远程管理过程中的信息泄露**
  - 通过 `SSH 协议` 可以对所有传输的数据进行加密，也能够防止 DNS 欺骗和 IP 欺骗
- `SSH` 的另一项优点是传输的数据可以是经过压缩的，所以可以加快传输的速度
- 常见服务端口号列表：

| 序号 | 服务       | 端口号 |
| :--- | :--------- | :----- |
| 01   | SSH 服务器 | 22     |
| 02   | Web 服务器 | 80     |
| 03   | HTTPS      | 443    |
| 04   | FTP 服务器 | 21     |

1) 免密码登录

**步骤**:

- 配置公钥
  - 执行 `ssh-keygen` 即可生成 SSH 钥匙，一路回车即可
- 上传公钥到服务器
  - 执行 `ssh-copy-id -p port user@remote`，可以让远程服务器记住我们的公钥

![003_SSH 免密码示意图](https://tva1.sinaimg.cn/large/006tNbRwly1g9g2stl9w9j30nx0dkq46.jpg)

> 非对称加密算法
>
> - 使用 **公钥** 加密的数据，需要使用 **私钥** 解密
> - 使用 **私钥** 加密的数据，需要使用 **公钥** 解密

2) 配置别名

每次都输入 `ssh -p port user@remote`，时间久了会觉得很麻烦，特别是当 `user`, `remote` 和 `port` 都得输入，而且还不好记忆

而 **配置别名** 可以让我们进一步偷懒，譬如用：`ssh mac` 来替代上面这么一长串，那么就在 `~/.ssh/config` 里面追加以下内容：

```bash
Host mac
    HostName ip地址
    User itheima
    Port 22
```

**保存之后，即可用 `ssh mac` 实现远程登录了，`scp` 同样可以使用**

#### 2.2.2 scp

- scp 就是 `secure copy`，是一个在 Linux 下用来进行 **远程拷贝文件** 的命令
- 它的**地址格式与 ssh 基本相同**，**需要注意的是**，在指定端口时用的是大写的 `-P` 而不是小写

```bash
# 把本地当前目录下的 01.py 文件 复制到 远程 家目录下的 Desktop/01.py
# 注意：`:` 后面的路径如果不是绝对路径，则以用户的家目录作为参照路径
scp -P port 01.py user@remote:Desktop/01.py

# 把远程 家目录下的 Desktop/01.py 文件 复制到 本地当前目录下的 01.py
scp -P port user@remote:Desktop/01.py 01.py

# 加上 -r 选项可以传送文件夹
# 把当前目录下的 demo 文件夹 复制到 远程 家目录下的 Desktop
scp -r demo user@remote:Desktop

# 把远程 家目录下的 Desktop 复制到 当前目录下的 demo 文件夹
scp -r user@remote:Desktop demo
```

| 选项 | 含义                                                         |
| :--- | :----------------------------------------------------------- |
| -r   | 若给出的源文件是目录文件，则 scp 将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名 |
| -P   | 若远程 SSH 服务器的端口不是 22，需要使用大写字母 -P 选项指定端口 |

### 2.3 查看或配置网卡信息

网卡:

- 网卡是一个专门负责网络通讯的硬件设备
- **IP 地址**是设置在网卡上的地址信息

> 我们可以把 **电脑** 比作 **电话**，**网卡** 相当于 **SIM 卡**，**IP 地址** 相当于 **电话号码**

```bash
# 检测本地网卡工作正常
$ ping 127.0.0.1
```

## 3 用户权限管理

### 3.1 用户、权限的基本概念

- 组

  - 为了方便用户管理，提出了 **组** 的概念，如下图所示

  ![001_组示意图](https://tva1.sinaimg.cn/large/006tNbRwly1g9g4shy2rlj30a5064gll.jpg)

  - 在实际应用中，可以预先针对 **组** 设置好权限，然后 **将不同的用户添加到对应的组中**，从而**不用依次为每一个用户设置权限**

- chmod
  - `chmod` 可以修改 **用户／组** 对 **文件／目录** 的权限
  - 命令格式如下：

```bash
chmod +/-rwx 文件名|目录名
```

- 超级用户
  - Linux 系统中的 `root` 账号通常 **用于系统的维护和管理**，对操作系统的所有资源 **具有所有访问权限**
  - 在大多数版本的 Linux 中，都不推荐 **直接使用 root 账号登录系统**
  - 在 Linux 安装的过程中，系统会自动创建一个用户账号，而这个默认的用户就称为“标准用户”

  **sudo**

  - `su` 是 `substitute user` 的缩写，表示 **使用另一个用户的身份**
  - `sudo` 命令用来以其他身份来执行命令，预设的身份为 `root`
  - 用户使用 `sudo` 时，必须先输入密码，之后有 **5 分钟的有效期限**，超过期限则必须重新输入密码

### 3.2 组管理终端命令

> 提示：**创建组** / **删除组** 的终端命令都需要通过 `sudo` 执行

| 序号 | 命令                      | 作用                      |
| :--- | :------------------------ | :------------------------ |
| 01   | groupadd 组名             | 添加组                    |
| 02   | groupdel 组名             | 删除组                    |
| 03   | cat /etc/group            | 确认组信息                |
| 04   | chgrp -R 组名 文件/目录名 | 递归修改文件/目录的所属组 |

> 提示：
>
> - 组信息保存在 `/etc/group` 文件中
> - `/etc` 目录是专门用来保存 **系统配置信息** 的目录

在实际应用中，可以预先针对 **组** 设置好权限，然后 **将不同的用户添加到对应的组中**，从而**不用依次为每一个用户设置权限**

#### 3.2.1 查看用户组

- 方法一

```bash
cat /etc/group
```

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o35nyc0jj31ex0u0goy.jpg)

- 方法二

```bash
groupmod +三次tab键
```

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o37dbfcmj31c00u0171.jpg)

#### 3.2.2 添加、删除组

- 添加

```bash
sudo groupadd 组名
```

- 删除

```bash
sudo groupdel 组名
```













### 3.3 **用户管理** 终端命令

> 提示：***创建用户** */* **删除用户** */* **修改其他用户密码** *的终端命令都需要通过* `sudo` *执行*

#### 3.3.1 创建用户

- **创建用户**

| 序号 | 命令                           | 作用         | 说明                                                         |
| :--- | :----------------------------- | :----------- | :----------------------------------------------------------- |
| 01   | useradd -m -g 组 新建用户名    | 添加新用户   | -m 自动建立用户家目录-g 指定用户所在的组，否则会建立一个和同名的组 |
| 02   | passwd 用户名                  | 设置用户密码 | 如果是普通用户，直接用 passwd 可以修改自己的账户密码         |
| 03   | userdel -r 用户名              | 删除用户     | -r 选项会自动删除用户家目录                                  |
| 04   | cat /etc/passwd \| grep 用户名 | 确认用户信息 | 新建用户后，用户信息会保存在 /etc/passwd 文件中              |

> 提示：
>
> - 创建用户时，如果忘记添加 `-m` 选项指定新用户的家目录 —— 最简单的方法就是**删除用户，重新创建**
> - 创建用户时，默认会创建一个和**用户名**同名的**组名**
> - 用户信息保存在 `/etc/passwd` 文件中

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o182hfuxj31je0g6ae5.jpg)

#### 3.3.2 设置密码

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o18oywolj31j00eodji.jpg)

#### 3.3.3 删除用户

| 命令                   | 含义                                    |
| :--------------------- | :-------------------------------------- |
| userdel abc(用户名)    | 删除abc用户，但不会自动删除用户的主目录 |
| userdel -r abc(用户名) | 删除用户，同时删除用户的主目录          |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o1ayro7vj31yg0rs0z1.jpg)

#### 3.3.4 切换用户

`su`和`su -`区别：

- su -切换到对应的用户时会将当前的工作目录自动转换到切换后的用户主目录

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o2yre4v1j31e10u0dpi.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o31calakj31jk0fs43c.jpg)

#### 3.3.5 修改用户组

使用方法：usermod -g 用户组 用户名

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o3ca7hxmj31n401g0su.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o3cvsow1j31800e0dhx.jpg)

usermod -g 与 -G区别：

`-g`用来制定这个用户默认的用户组

`-G`一般配合'-a'来完成向其它组添加

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o3e4r22lj31ko0aumz8.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o3ea9dg5j31e601o74i.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o3efbjruj31ko0dsq5l.jpg)

#### 3.3.2 查看用户信息

| 序号 | 作用                       | 命令        |
| :--- | :------------------------- | :---------- |
| 01   | 查看用户 UID 和 GID 信息   | id [用户名] |
| 02   | 查看当前所有登录的用户列表 | who         |
| 03   | 查看当前登录用户的账户名   | whoami      |

- **passwd 文件**

`/etc/passwd` 文件存放的是用户的信息，由 6 个分号组成的 7 个信息，分别是

1. 用户名
2. 密码（x，表示加密的密码）
3. UID（用户标识）
4. GID（组标识）
5. 用户全名或本地帐号
6. 家目录
7. 登录使用的 Shell，就是登录之后，使用的终端命令，`ubuntu` 默认是 `dash`

- **usermod**

- `usermod` 可以用来设置 **用户** 的 **主组** ／ **附加组** 和 **登录 Shell**，命令格式如下：
- **主组**：通常在新建用户时指定，在 `etc/passwd` 的第 4 列 **GID 对应的组**
- **附加组**：在 `etc/group` 中最后一列表示该组的用户列表，用于指定 **用户的附加权限**

> 提示：设置了用户的附加组之后，需要重新登录才能生效！

```bash
# 修改用户的主组（passwd 中的 GID）
usermod -g 组 用户名

# 修改用户的附加组
usermod -G 组 用户名

# 修改用户登录 Shell
usermod -s /bin/bash 用户名
```

> 注意：默认使用 `useradd` 添加的用户是没有权限使用 `sudo` 以 `root` 身份执行命令的，可以使用以下命令，将用户添加到 `sudo` 附加组中

```bash
usermod -G sudo 用户名
```

### 3.4 文件权限

#### 3.4.1 修改文件权限

chmod 修改文件权限有两种使用格式：字母法与数字法。

字母法：chmod u/g/o/a +/-/= rwx 文件

| [ u/g/o/a ] | 含义                                                      |
| :---------- | :-------------------------------------------------------- |
| u           | user 表示该文件的所有者                                   |
| g           | group 表示与该文件的所有者属于同一组( group )者，即用户组 |
| o           | other 表示其他以外的人                                    |
| a           | all 表示这三者皆是                                        |

| [ +-= ] | 含义     |
| ------- | -------- |
| +       | 增加权限 |
| -       | 撤销权限 |
| =       | 设定权限 |

| rwx  | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| r    | read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。 |
| w    | write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。 |
| x    | excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。 |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8meuetuj31fw0nkgrj.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8ml7zpqj31h40dqdj7.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8mrddh5j31lg0dqgp3.jpg)

同时进行设定拥有者、同组者以及其他人的权限：

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8namdhkj30lu0dumzr.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8nh1agij30lu0duaco.jpg)

数字法：“rwx” 这些权限也可以用数字来代替

| 字母 | 说明                         |
| ---- | ---------------------------- |
| r    | 读取权限，数字代号为 "4"     |
| w    | 写入权限，数字代号为 "2"     |
| x    | 执行权限，数字代号为 "1"     |
| -    | 不具任何权限，数字代号为 "0" |

如执行：chmod u=rwx,g=rx,o=r filename 就等同于：chmod u=7,g=5,o=4 filename

chmod 751 file：

- 文件所有者：读、写、执行权限
- 同组用户：读、执行的权限
- 其它用户：执行的权限

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8ny0sy8j31km0n6n1n.jpg)

注意：如果想递归所有目录加上相同权限，需要加上参数“ -R ”。 如：chmod 777 test/ -R 递归 test 目录下所有文件加 777 权限

#### 3.4.2 修改文件所有者

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8pnapdrj31jq0imq72.jpg)

#### 3.4.3 修改文件所属组

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9o8q1gl0ej31ku0gajuj.jpg)

------

## 4 系统管理

### 4.1 时间和日期

| 序号 | 命令 | 作用                                       |
| :--- | :--- | :----------------------------------------- |
| 01   | date | 查看系统时间                               |
| 02   | cal  | `calendar` 查看日历，`-y` ：查看一年的日历 |

**注：**显示时间格式（date '+%y,%m,%d,%H,%M,%S'）：

| format格式 | 含义                |
| :--------- | ------------------- |
| %Y，%y     | 年（Y表示四位年份） |
| %m         | 月                  |
| %d         | 日                  |
| %H         | 时                  |
| %M         | 分                  |
| %S         | 秒                  |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9obtpj0swj30oc08ydh6.jpg)

### 4.2 磁盘信息

#### 4.2.1 df

- **df:检测磁盘空间**

| 序号 | 命令           | 作用                              |
| :--- | :------------- | :-------------------------------- |
| 01   | df -h          | `disk free` 显示磁盘剩余空间      |
| 02   | du -h [目录名] | `disk usage` 显示目录下的文件大小 |
| 03   | df -a          | 显示所有文件系统的磁盘使用情况    |
| 04   | Df -m          | 以1024字节为单位显示              |

#### 4.2.2 du

- **du:检测目录所占磁盘空间**

du命令用于统计目录或文件所占磁盘空间的大小，该命令的执行结果与df类似，du更侧重于磁盘的使用状况。

| 选项 | 含义                                               |
| :--- | -------------------------------------------------- |
| -a   | 递归显示指定目录中各文件和子目录中文件占用的数据块 |
| -s   | 显示指定文件或目录占用的数据块                     |
| -b   | 以字节为单位显示磁盘占用情况                       |
| -l   | 计算所有文件大小，对硬链接文件计算多次             |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9olmcowzsj314e0u00zx.jpg)

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9olmokc60j31l806k0ud.jpg)

### 4.3 进程信息

#### 4.3.1 ps

- **ps(默认只显示当前用户通过终端启动应用程序)**

| 选项 | 含义                                     |
| :--- | ---------------------------------------- |
| -a   | 显示终端上的所有进程，包括其他用户的进程 |
| -u   | 显示进程的详细状态                       |
| -x   | 显示没有控制终端的进程                   |
| -w   | 显示加宽，以便显示更多的信息             |
| -r   | 只显示正在运行的进程                     |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9oc69akruj30r408itak.jpg)

#### 4.3.2 top

- **top(动态显示运行中的进程并且排序)**

| 按键 | 含义                               |
| :--- | ---------------------------------- |
| M    | 根据内存使用量来排序               |
| P    | 根据CPU占有率来排序                |
| T    | 根据进程运行时间的长短来排序       |
| U    | 可以根据后面输入的用户名来筛选进程 |
| K    | 可以根据后面输入的PID来杀死进程。  |
| q    | 退出                               |
| h    | 获得帮助                           |

![img](https://tva1.sinaimg.cn/large/006tNbRwly1g9ocbgg37qj30pn0gkadb.jpg)

#### 4.3.3 kill

**- kill(信号值从0到15，其中9为绝对终止，可以处理一般信号无法终止的进程)**

> 提示：使用 `kill` 命令时，最好只终止由当前用户开启的进程，而不要终止 `root` 身份开启的进程，否则可能导致系统崩溃
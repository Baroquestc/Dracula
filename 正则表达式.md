# 正则表达式

标签（空格分隔）： python

---
## 1 简介
 1. `\d`:匹配数字；`\w`匹配字母或者数字;`.`可以匹配任意字符
     - '00\d'可以匹配'007'，但无法匹配'00A'；
     - `\d\d\d可以匹配'010'；
     - '\w\w\d'可以匹配'py3'；
     - 'py.'可以匹配'pyc'、'pyo'、'py!'等等8568
 2. 在正则表达式中，用`*`表示任意个字符（包括0个），用`+`表示至少一个字符，用`?`表示`0`个或`1`个字符，用`{n}`表示`n`个字符，用`{n,m}`表示n-m个字符：
 3. `[]`表示范围
     - `[0-9a-zA-Z\_]`可以匹配一个数字、字母或者下划线；
     - `[0-9a-zA-Z\_]+`可以匹配至少由一个数字、字母或者下划线组成的字符串，比如`'a100'`，`'0_Z'`，`'Py3000'`等等
     - [a-zA-Z\_][0-9a-zA-Z\_]{0, 19}更精确地限制了变量的长度是1-20个字符（前面1个字符+后面最多19个字符）
     - 
`A|B`可以匹配`A或B`，所以`(P|p)ython`可以匹配`'Python'或者'python'`
`^`表示行的开头，`^\d`表示必须以数字开头。
`$`表示行的结束，`\d$`表示必须以数字结束。

----------

## 2 re模块
Python的r前缀，就不用考虑转义的问题了：

    s = r'ABC\-001' # Python的字符串
    # 对应的正则表达式字符串不变：
    # 'ABC\-001'
`match()`方法判断是否匹配，如果匹配成功，返回一个Match对象，否则返回None。常见的判断方法就是：

    test = '用户输入的字符串'
    if re.match(r'正则表达式', test):
        print('ok')
    else:
        print('failed')

## 3 切分字符串

    >>> re.split(r'\s+', 'a b   c')
    ['a', 'b', 'c']
无论多少个空格都可以正常分割。加入`,`试试：

    >>> re.split(r'[\s\,]+', 'a,b, c  d')
    ['a', 'b', 'c', 'd']
再加入;试试

    >>> re.split(r'[\s\,\;]+', 'a,b;; c  d')
    ['a', 'b', 'c', 'd']
    
## 4 分组
`^(\d{3})-(\d{3,8})$`分别定义了两个组，可以直接从匹配的字符串中提取出区号和本地号码：

    >>> m = re.match(r'^(\d{3})-(\d{3,8})$', '010-12345')
    >>> m
    <_sre.SRE_Match object; span=(0, 9), match='010-12345'>
    >>> m.group(0)
    '010-12345'
    >>> m.group(1)
    '010'
    >>> m.group(2)
    '12345'
## 5 贪婪匹配